"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[582],{582:function(e,t,a){function n(e){var t=e.isOpen;e=e.children;return t?(t="Successfully sent"===e?p.textSuccess:p.textError,(0,f.createPortal)((0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:p.modalContainer,children:(0,h.jsx)("span",{className:"".concat(p.modalText," ").concat(t),children:e})})}),document.getElementById("portal"))):null}a.r(t),a.d(t,{default:function(){return Z}});var c=a(165),o=a(861),s=a(885),l=a(791),r=a(470),i="Contact_contacts__block_input__wUheu",m="Contact_placeholder__1YAh1",u="Contact_bg_ForAutocompliteText__gvErp",_="Contact_fontSizeCyrillic__nzlaD",d="Contact_errorBorder__89MqI",f=a(164),p={modalContainer:"ContactModal_modalContainer__dE7vw",animateModalBG:"ContactModal_animateModalBG__XKLOE",modalText:"ContactModal_modalText__5uFTi",animateModalText:"ContactModal_animateModalText__1C9e-",textSuccess:"ContactModal_textSuccess__Q1vW8",textError:"ContactModal_textError__lMBLP"},h=a(184),y=a(942);function g(e,t){var a,n=Object.keys(e);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(e),t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)),n}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,y.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:A,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"NAME":return x(x({},e),{},{name:t.payload.style});case"EMAIL":return x(x({},e),{},{email:t.payload.style});case"MESSAGE":return x(x({},e),{},{message:t.payload.style});default:return e}}function b(e){return{type:"NAME",payload:{style:e}}}function j(e){return{type:"EMAIL",payload:{style:e}}}function v(e){return{type:"MESSAGE",payload:{style:e}}}function N(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:w,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"ON_CHANGE_NAME":var a=t.payload.nameValue.replace(/[^a-zA-Z\u0430-\u044f\u0451\u0410-\u042f\u0401 -]/,"").slice(0,50).trimStart();return" "===a[a.length-1]&&" "===a[a.length-2]&&(a=a.slice(0,-1)),x(x({},e),{},{name:a});case"ON_CHANGE_EMAIL":return a=t.payload.emailValue.replace(/[\u0430-\u044f\u0451\u0410-\u042f\u0401]/,"").slice(0,200).trimStart(),x(x({},e),{},{email:a});case"ON_CHANGE_MESSAGE":return" "===(a=t.payload.messageValue.slice(0,3e3).trimStart())[a.length-1]&&" "===a[a.length-2]&&(a=a.slice(0,-1)),x(x({},e),{},{message:a});default:return e}}function E(e){return{type:"ON_CHANGE_NAME",payload:{nameValue:e}}}function S(e){return{type:"ON_CHANGE_EMAIL",payload:{emailValue:e}}}function O(e){return{type:"ON_CHANGE_MESSAGE",payload:{messageValue:e}}}var A={name:!1,email:!1,message:!1},w={name:"",email:"",message:""},M=/[\u0430-\u044f\u0451\u0410-\u042f\u0401]/,T=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[ a-zA-Z0-9-]+(?:\.[ a-zA-Z0-9-]+) *$/,Z=function(){function e(e){var a,n=e.currentTarget,c="Enter";e.key===c&&"name"===n.id&&n.value&&(e.preventDefault(),y(b(!1)),null!=(a=V.current)&&a.focus()),e.key===c&&"email"===n.id&&n.value&&n.value.match(T)&&(e.preventDefault(),y(j(!1)),null!=(a=q.current)&&a.focus()),e.key!==c||"messageContact"!==n.id||e.shiftKey||(e.preventDefault(),g.name&&g.email&&g.message&&(n.blur(),t()))}function t(){g.name||y(b(!0)),g.email&&g.email.match(T)||y(j(!0)),g.message||y(v(!0))}console.log("rendered contact");var a=" https://meskal1.github.io/portfolio/#/contacts"===(0,r.TH)().pathname,f=(0,l.useReducer)(C,A),p=(f=(0,s.Z)(f,2))[0],y=f[1],g=(f=(0,l.useReducer)(N,w),(f=(0,s.Z)(f,2))[0]),x=f[1],Z=(f=(0,l.useState)(!1),(f=(0,s.Z)(f,2))[0]),k=f[1],G=(f=(0,l.useState)("on"===localStorage.getItem("isOffAutocomplite")),(f=(0,s.Z)(f,2))[0]),P=f[1],D=(f=(0,l.useState)("Contact_animationIsLoading__XUbiA"),(f=(0,s.Z)(f,2))[0]),B=f[1],F=(f=(0,l.useState)(""),(f=(0,s.Z)(f,2))[0]),I=f[1],L=(f=(0,l.useState)(a?"Github demo":"Successfully sent"),(a=(0,s.Z)(f,2))[0]),H=a[1],V=(0,l.useRef)(),q=(0,l.useRef)(),z=(f=g.name.match(M)?_:"",a=g.message.match(M)?_:"",p.name?d:""),R=p.email?d:"",K=p.message?d:"",Q=G?"on":"off",U={name:g.name.trimEnd(),email:g.email.trimEnd(),message:g.message.trimEnd()},Y=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.105/contact",{method:"POST",body:JSON.stringify(U),headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}}).then((function(e){"Successfully sent"!==L&&H("Successfully sent"),document.body.style.overflow="hidden",k(!0),setTimeout((function(){k(!1),document.body.style.overflow="unset",x(E("")),x(S("")),x(O(""))}),2e3)})).catch((function(e){H("Some error occured"),document.body.style.overflow="hidden",k(!0),setTimeout((function(){k(!1),document.body.style.overflow="unset"}),2e3),console.log("Some error occured")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){g.name&&p.name&&y(b(!1)),g.email&&p.email&&g.email.match(T)&&y(j(!1)),g.message&&p.message&&y(v(!1))}),[g]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{className:"Contact_contacts__PEeUQ",children:[(0,h.jsx)(n,{isOpen:Z,children:L}),(0,h.jsx)("div",{className:"Contact_contacts__container__QBNZN",children:(0,h.jsxs)("div",{className:"Contact_contacts__content__dris4",children:[(0,h.jsxs)("div",{className:"Contact_contacts__text_container__Z+23W",children:[(0,h.jsx)("h2",{className:"Contact_contacts__title__1sGYL",children:"contact"}),(0,h.jsx)("p",{className:"Contact_contacts__text__feHqS",children:"Contact me if you have a job or just say hi :)"})]}),(0,h.jsxs)("div",{className:"Contact_contacts__form_container__Q8STt",children:[(0,h.jsxs)("label",{className:"Contact_switcher_container__bDvn1",htmlFor:"checkbox",children:["autocomplete",(0,h.jsx)("input",{type:"checkbox",id:"checkbox",onChange:function(){P(!G),localStorage.setItem("isOffAutocomplite","".concat(G?"off":"on"))},checked:G}),(0,h.jsx)("span",{className:"Contact_switcher__25rLf"})]}),(0,h.jsxs)("form",{className:"Contact_contacts__form__Rcpxq",id:"contacts",onSubmit:function(e){e.preventDefault(),g.name&&g.email&&g.message&&g.email.match(T)?Y():I("Contact_errorButton__6YBOn")},noValidate:!0,children:[(0,h.jsxs)("div",{className:i,children:[(0,h.jsx)("label",{className:u}),(0,h.jsx)("input",{id:"name",type:"text",value:g.name,name:"name",className:"".concat("Contact_contacts__input_name__nPuwE"," ").concat(f," ").concat(z),onChange:function(e){x(E(e.currentTarget.value))},onKeyDown:e,autoComplete:Q,required:!0}),(0,h.jsx)("label",{className:"Contact_contacts__label_name__rmc5-",children:"name"}),(0,h.jsx)("label",{className:m,htmlFor:"name",children:"name"})]}),(0,h.jsxs)("div",{className:i,children:[(0,h.jsx)("label",{className:u}),(0,h.jsx)("input",{ref:V,id:"email",type:"text",value:g.email,name:"email",className:"".concat("Contact_contacts__input_email__v+3ib"," ").concat(R),onChange:function(e){x(S(e.currentTarget.value))},onKeyDown:e,onBlur:function(){g.email&&!g.email.match(T)&&y(j(!0))},autoComplete:Q,required:!0}),(0,h.jsx)("label",{className:"Contact_contacts__label_email__6+iiP",children:"email"}),(0,h.jsx)("label",{className:m,htmlFor:"email",children:"email"})]}),(0,h.jsxs)("div",{className:i,children:[(0,h.jsx)("textarea",{ref:q,id:"messageContact",value:g.message,name:"message",className:"".concat("Contact_contacts__textarea__70Buj"," ").concat(a," ").concat(K),onChange:function(e){x(O(e.currentTarget.value))},onKeyDown:e,required:!0}),(0,h.jsx)("label",{className:"Contact_contacts__label_message__pjbjl",children:"message"}),(0,h.jsx)("label",{className:m,htmlFor:"message",children:"message"})]})]})]}),(0,h.jsx)("button",{type:"submit",form:"contacts",className:"".concat("Contact_contacts__form_button__h8TFj"," ").concat(F," ").concat(D),onClick:t,onAnimationEnd:function(){B("Contact_animationIsLoaded__xbvRN"),I("")},children:"send me message"})]})})]})})}}}]);