"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[23],{23:function(e,t,a){function n(e){var t=e.isOpen;e=e.children;return t?(t="Successfully sent"===e?v.textSuccess:v.textError,(0,N.createPortal)((0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:v.modalContainer,children:(0,b.jsx)("span",{className:"".concat(v.modalText," ").concat(t),children:e})})}),document.getElementById("portal"))):null}function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:E,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"NAME":return(0,j.Z)((0,j.Z)({},e),{},{name:t.payload.style});case"EMAIL":return(0,j.Z)((0,j.Z)({},e),{},{email:t.payload.style});case"MESSAGE":return(0,j.Z)((0,j.Z)({},e),{},{message:t.payload.style});default:return e}}function o(e){return{type:"NAME",payload:{style:e}}}function s(e){return{type:"EMAIL",payload:{style:e}}}function l(e){return{type:"MESSAGE",payload:{style:e}}}function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:S,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"ON_CHANGE_NAME":var a=t.payload.nameValue.replace(/[^a-zA-Z\u0430-\u044f\u0451\u0410-\u042f\u0401 -]/,"").slice(0,50).trimStart();return" "===a[a.length-1]&&" "===a[a.length-2]&&(a=a.slice(0,-1)),(0,j.Z)((0,j.Z)({},e),{},{name:a});case"ON_CHANGE_EMAIL":return a=t.payload.emailValue.replace(/[\u0430-\u044f\u0451\u0410-\u042f\u0401]/,"").slice(0,200).trimStart(),(0,j.Z)((0,j.Z)({},e),{},{email:a});case"ON_CHANGE_MESSAGE":return" "===(a=t.payload.messageValue.slice(0,3e3).trimStart())[a.length-1]&&" "===a[a.length-2]&&(a=a.slice(0,-1)),(0,j.Z)((0,j.Z)({},e),{},{message:a});default:return e}}function i(e){return{type:"ON_CHANGE_NAME",payload:{nameValue:e}}}function m(e){return{type:"ON_CHANGE_EMAIL",payload:{emailValue:e}}}function u(e){return{type:"ON_CHANGE_MESSAGE",payload:{messageValue:e}}}a.r(t),a.d(t,{default:function(){return M}});var _=a(165),d=a(861),h=a(885),f=a(791),p="Contact_contacts__block_input__imN9X",y="Contact_placeholder__Sd2iR",x="Contact_bg_ForAutocompliteText__4A53i",C="Contact_fontSizeCyrillic__bWVQ3",g="Contact_errorBorder__PsPOQ",N=a(164),v={modalContainer:"ContactModal_modalContainer__lEdO8",animateModalBG:"ContactModal_animateModalBG__g-y8x",modalText:"ContactModal_modalText__s2XZ3",animateModalText:"ContactModal_animateModalText__QrEhH",textSuccess:"ContactModal_textSuccess__zvMh9",textError:"ContactModal_textError__tQGFe"},b=a(184),j=a(413),E={name:!1,email:!1,message:!1},S={name:"",email:"",message:""},A=/[\u0430-\u044f\u0451\u0410-\u042f\u0401]/,Z=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[ a-zA-Z0-9-]+(?:\.[ a-zA-Z0-9-]+) *$/,M=function(){function e(e){var t,a=e.currentTarget,n="Enter";e.key===n&&"name"===a.id&&a.value&&(e.preventDefault(),null!=(t=V.current))&&t.focus(),e.key===n&&"email"===a.id&&a.value&&a.value.match(Z)&&(e.preventDefault(),null!=(t=B.current))&&t.focus(),e.key!==n||"messageContact"!==a.id||e.shiftKey||(e.preventDefault(),v.name&&v.email&&v.message&&v.email.match(Z)&&(a.blur(),Q()))}var t=(0,f.useReducer)(c,E),a=(t=(0,h.Z)(t,2))[0],N=t[1],v=(t=(0,f.useReducer)(r,S),(t=(0,h.Z)(t,2))[0]),j=t[1],M=(t=(0,f.useState)(!1),(t=(0,h.Z)(t,2))[0]),k=t[1],w=(t=(0,f.useState)("on"===localStorage.getItem("isOffAutocomplite")),(t=(0,h.Z)(t,2))[0]),G=t[1],O=(t=(0,f.useState)("Contact_animationIsLoading__r9SaA"),(t=(0,h.Z)(t,2))[0]),T=t[1],F=(t=(0,f.useState)(""),(t=(0,h.Z)(t,2))[0]),I=t[1],D=(t=(0,f.useState)("Successfully sent"),(t=(0,h.Z)(t,2))[0]),H=t[1],V=(0,f.useRef)(),B=(0,f.useRef)(),K=(t=v.name.match(A)?C:"",v.message.match(A)?C:""),L=a.name?g:"",z=a.email?g:"",R=a.message?g:"",P=w?"on":"off",q={name:v.name.trimEnd(),email:v.email.trimEnd(),message:v.message.trimEnd()},Q=function(){var e=(0,d.Z)((0,_.Z)().mark((function e(){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.105/api/contact",{method:"POST",body:JSON.stringify(q),headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}}).then((function(e){"Successfully sent"!==D&&H("Successfully sent"),document.body.style.overflow="hidden",k(!0),setTimeout((function(){k(!1),document.body.style.overflow="unset",j(i("")),j(m("")),j(u(""))}),2e3)})).catch((function(e){"Github error demo"!==D&&H("Github error demo"),document.body.style.overflow="hidden",k(!0),setTimeout((function(){k(!1),document.body.style.overflow="unset"}),2e3),console.log("Some error occured")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){v.name&&a.name&&N(o(!1)),v.email&&a.email&&v.email.match(Z)&&N(s(!1)),v.message&&a.message&&N(l(!1))}),[v]),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("section",{className:"Contact_contacts__5FyM5",children:[(0,b.jsx)(n,{isOpen:M,children:D}),(0,b.jsx)("div",{className:"Contact_contacts__container__tfPMM",children:(0,b.jsxs)("div",{className:"Contact_contacts__content__SJ8kY",children:[(0,b.jsxs)("div",{className:"Contact_contacts__text_container__LXttH",children:[(0,b.jsx)("h2",{className:"Contact_contacts__title__52q8U",children:"contact"}),(0,b.jsx)("p",{className:"Contact_contacts__text__IWXcK",children:"Contact me if you have a job or just say hi :)"})]}),(0,b.jsxs)("div",{className:"Contact_contacts__form_container__up5xZ",children:[(0,b.jsxs)("label",{className:"Contact_switcher_container__Nmy3k",htmlFor:"checkbox",children:["autocomplete",(0,b.jsx)("input",{type:"checkbox",id:"checkbox",onChange:function(){G(!w),localStorage.setItem("isOffAutocomplite","".concat(w?"off":"on"))},checked:w}),(0,b.jsx)("span",{className:"Contact_switcher__KrrFc"})]}),(0,b.jsxs)("form",{className:"Contact_contacts__form__wH0My",id:"contacts",onSubmit:function(e){e.preventDefault(),v.name&&v.email&&v.message&&v.email.match(Z)?Q():I("Contact_errorButton__DBobf")},noValidate:!0,children:[(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("label",{className:x}),(0,b.jsx)("input",{id:"name",type:"text",value:v.name,name:"name",className:"".concat("Contact_contacts__input_name__O-r4v"," ").concat(t," ").concat(L),onChange:function(e){j(i(e.currentTarget.value))},onKeyDown:e,autoComplete:P,required:!0}),(0,b.jsx)("label",{className:"Contact_contacts__label_name__63h6K",children:"name"}),(0,b.jsx)("label",{className:y,htmlFor:"name",children:"name"})]}),(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("label",{className:x}),(0,b.jsx)("input",{ref:V,id:"email",type:"text",value:v.email,name:"email",className:"".concat("Contact_contacts__input_email__YuU8o"," ").concat(z),onChange:function(e){j(m(e.currentTarget.value))},onKeyDown:e,onBlur:function(){v.email&&!v.email.match(Z)&&N(s(!0))},autoComplete:P,required:!0}),(0,b.jsx)("label",{className:"Contact_contacts__label_email__Cu9AD",children:"email"}),(0,b.jsx)("label",{className:y,htmlFor:"email",children:"email"})]}),(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)("textarea",{ref:B,id:"messageContact",value:v.message,name:"message",className:"".concat("Contact_contacts__textarea__V-ix3"," ").concat(K," ").concat(R),onChange:function(e){j(u(e.currentTarget.value))},onKeyDown:e,required:!0}),(0,b.jsx)("label",{className:"Contact_contacts__label_message__bb7aN",children:"message"}),(0,b.jsx)("label",{className:y,htmlFor:"message",children:"message"})]})]})]}),(0,b.jsx)("button",{type:"submit",form:"contacts",className:"".concat("Contact_contacts__form_button__JgGkI"," ").concat(F," ").concat(O),onClick:function(){v.name||a.name||N(o(!0)),v.email&&v.email.match(Z)||a.email||N(s(!0)),v.message||a.message||N(l(!0))},onAnimationEnd:function(){T("Contact_animationIsLoaded__sbrRF"),I("")},children:"send me message"})]})})]})})}}}]);