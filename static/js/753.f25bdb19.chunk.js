"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[753],{753:function(e,t,a){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:N,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"NAME":return(0,v.Z)((0,v.Z)({},e),{},{name:t.payload.style});case"EMAIL":return(0,v.Z)((0,v.Z)({},e),{},{email:t.payload.style});case"MESSAGE":return(0,v.Z)((0,v.Z)({},e),{},{message:t.payload.style});default:return e}}function c(e){return{type:"NAME",payload:{style:e}}}function o(e){return{type:"EMAIL",payload:{style:e}}}function s(e){return{type:"MESSAGE",payload:{style:e}}}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:b,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"ON_CHANGE_NAME":var a=t.payload.nameValue.replace(/[^a-zA-Z\u0430-\u044f\u0451\u0410-\u042f\u0401 -]/,"").slice(0,50).trimStart();return" "===a[a.length-1]&&" "===a[a.length-2]&&(a=a.slice(0,-1)),(0,v.Z)((0,v.Z)({},e),{},{name:a});case"ON_CHANGE_EMAIL":return a=t.payload.emailValue.replace(/[\u0430-\u044f\u0451\u0410-\u042f\u0401]/,"").slice(0,200).trimStart(),(0,v.Z)((0,v.Z)({},e),{},{email:a});case"ON_CHANGE_MESSAGE":return" "===(a=t.payload.messageValue.slice(0,3e3).trimStart())[a.length-1]&&" "===a[a.length-2]&&(a=a.slice(0,-1)),(0,v.Z)((0,v.Z)({},e),{},{message:a});default:return e}}function r(e){return{type:"ON_CHANGE_NAME",payload:{nameValue:e}}}function i(e){return{type:"ON_CHANGE_EMAIL",payload:{emailValue:e}}}function m(e){return{type:"ON_CHANGE_MESSAGE",payload:{messageValue:e}}}function u(e){var t=e.isOpen;e=e.children;return t?(t="Successfully sent"===e?S.textSuccess:S.textError,(0,j.createPortal)((0,E.jsx)("div",{className:S.modalContainer,children:(0,E.jsx)("span",{className:"".concat(S.modalText," ").concat(t),children:e})}),document.getElementById("portal"))):null}a.r(t),a.d(t,{Contact:function(){return M}});var _=a(165),d=a(861),f=a(439),h=a(791),p="Contact_placeholder__uTR1k",y="Contact_contacts__block_input__0DY7m",C="Contact_bg_ForAutocompliteText__vHFXc",x="Contact_fontSizeCyrillic__kh7tT",g="Contact_errorBorder__YGV--",v=a(413),N={name:!1,email:!1,message:!1},b={name:"",email:"",message:""},j=a(164),S={modalContainer:"ContactModal_modalContainer__JOS6s",animateModalBG:"ContactModal_animateModalBG__WqgXw",modalText:"ContactModal_modalText__fj73J",animateModalText:"ContactModal_animateModalText__y15K4",textSuccess:"ContactModal_textSuccess__kXobM",textError:"ContactModal_textError__IwzZf"},E=a(184),A=/[\u0430-\u044f\u0451\u0410-\u042f\u0401]/,Z=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[ a-zA-Z0-9-]+(?:\.[ a-zA-Z0-9-]+) *$/,M=function(){function e(e){var t,a=e.currentTarget,n="Enter";e.key===n&&"name"===a.id&&a.value&&(e.preventDefault(),null!=(t=z.current))&&t.focus(),e.key===n&&"email"===a.id&&a.value&&a.value.match(Z)&&(e.preventDefault(),null!=(t=B.current))&&t.focus(),e.key!==n||"messageContact"!==a.id||e.shiftKey||(e.preventDefault(),j.name&&j.email&&j.message&&j.email.match(Z)&&(a.blur(),q()))}var t=(0,h.useReducer)(n,N),a=(t=(0,f.Z)(t,2))[0],v=t[1],j=(t=(0,h.useReducer)(l,b),(t=(0,f.Z)(t,2))[0]),S=t[1],M=(t=(0,h.useState)(!1),(t=(0,f.Z)(t,2))[0]),k=t[1],G=(t=(0,h.useState)("on"===localStorage.getItem("isOffAutocomplite")),(t=(0,f.Z)(t,2))[0]),w=t[1],T=(t=(0,h.useState)("Contact_animationIsLoading__mSQCY"),(t=(0,f.Z)(t,2))[0]),O=t[1],I=(t=(0,h.useState)(""),(t=(0,f.Z)(t,2))[0]),D=t[1],F=(t=(0,h.useState)("Successfully sent"),(t=(0,f.Z)(t,2))[0]),V=t[1],z=(0,h.useRef)(),B=(0,h.useRef)(),H=(t=j.name.match(A)?x:"",j.message.match(A)?x:""),L=a.name?g:"",K=a.email?g:"",R=a.message?g:"",X=G?"on":"off",Y={name:j.name.trimEnd(),email:j.email.trimEnd(),message:j.message.trimEnd()},q=function(){var e=(0,d.Z)((0,_.Z)().mark((function e(){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://192.168.1.105/api/contact",{method:"POST",body:JSON.stringify(Y),headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}});case 3:"Successfully sent"!==F&&V("Successfully sent"),document.body.style.overflow="hidden",k(!0),setTimeout((function(){k(!1),document.body.style.overflow="unset",S(r("")),S(i("")),S(m(""))}),2e3),e.next=16;break;case 9:e.prev=9,e.t0=e.catch(0),"Github error demo"!==F&&V("Github error demo"),document.body.style.overflow="hidden",k(!0),setTimeout((function(){k(!1),document.body.style.overflow="unset"}),2e3),console.log("Some error occured");case 16:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){j.name&&a.name&&v(c(!1)),j.email&&a.email&&j.email.match(Z)&&v(o(!1)),j.message&&a.message&&v(s(!1))}),[j]),(0,E.jsxs)("section",{className:"Contact_contacts__G0bn6",children:[(0,E.jsx)(u,{isOpen:M,children:F}),(0,E.jsx)("div",{className:"Contact_contacts__container__nm-AF",children:(0,E.jsxs)("div",{className:"Contact_contacts__content__sCzGX",children:[(0,E.jsxs)("div",{className:"Contact_contacts__text_container__O6rtc",children:[(0,E.jsx)("h2",{className:"Contact_contacts__title__+KDvP",children:"contact"}),(0,E.jsx)("p",{className:"Contact_contacts__text__nc1GP",children:"Contact me if you have a job or just say hi :)"})]}),(0,E.jsxs)("div",{className:"Contact_contacts__form_container__wxIfR",children:[(0,E.jsxs)("label",{className:"Contact_switcher_container__GUXUg",htmlFor:"checkbox",children:["autocomplete",(0,E.jsx)("input",{type:"checkbox",id:"checkbox",onChange:function(){w(!G),localStorage.setItem("isOffAutocomplite","".concat(G?"off":"on"))},checked:G}),(0,E.jsx)("span",{className:"Contact_switcher__i1OgZ"})]}),(0,E.jsxs)("form",{className:"Contact_contacts__form__GdXgY",id:"contacts",onSubmit:function(e){e.preventDefault(),j.name&&j.email&&j.message&&j.email.match(Z)?q():D("Contact_errorButton__ryWfM")},noValidate:!0,children:[(0,E.jsxs)("div",{className:y,children:[(0,E.jsx)("label",{className:C}),(0,E.jsx)("input",{id:"name",type:"text",value:j.name,name:"name",className:"".concat("Contact_contacts__input_name__fIvVL"," ").concat(t," ").concat(L),onChange:function(e){S(r(e.currentTarget.value))},onKeyDown:e,autoComplete:X,required:!0}),(0,E.jsx)("label",{className:"Contact_contacts__label_name__TYmAk",children:"name"}),(0,E.jsx)("label",{className:p,htmlFor:"name",children:"name"})]}),(0,E.jsxs)("div",{className:y,children:[(0,E.jsx)("label",{className:C}),(0,E.jsx)("input",{ref:z,id:"email",type:"text",value:j.email,name:"email",className:"".concat("Contact_contacts__input_email__vQWCd"," ").concat(K),onChange:function(e){S(i(e.currentTarget.value))},onKeyDown:e,onBlur:function(){j.email&&!j.email.match(Z)&&v(o(!0))},autoComplete:X,required:!0}),(0,E.jsx)("label",{className:"Contact_contacts__label_email__7Wh8u",children:"email"}),(0,E.jsx)("label",{className:p,htmlFor:"email",children:"email"})]}),(0,E.jsxs)("div",{className:y,children:[(0,E.jsx)("textarea",{ref:B,id:"messageContact",value:j.message,name:"message",className:"".concat("Contact_contacts__textarea__rMYhF"," ").concat(H," ").concat(R),onChange:function(e){S(m(e.currentTarget.value))},onKeyDown:e,required:!0}),(0,E.jsx)("label",{className:"Contact_contacts__label_message__ulfFI",children:"message"}),(0,E.jsx)("label",{className:p,htmlFor:"message",children:"message"})]})]})]}),(0,E.jsx)("button",{type:"submit",form:"contacts",className:"".concat("Contact_contacts__form_button__k2n0B"," ").concat(I," ").concat(T),onClick:function(){j.name||a.name||v(c(!0)),j.email&&j.email.match(Z)||a.email||v(o(!0)),j.message||a.message||v(s(!0))},onAnimationEnd:function(){O("Contact_animationIsLoaded__A-S4D"),D("")},children:"send me message"})]})})]})}}}]);