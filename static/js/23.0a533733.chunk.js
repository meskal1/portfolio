"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[23],{23:function(e,t,a){function n(e){var t=e.isOpen;e=e.children;return t?(t="Successfully sent"===e?v.textSuccess:v.textError,(0,N.createPortal)((0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:v.modalContainer,children:(0,j.jsx)("span",{className:"".concat(v.modalText," ").concat(t),children:e})})}),document.getElementById("portal"))):null}function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:E,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"NAME":return(0,b.Z)((0,b.Z)({},e),{},{name:t.payload.style});case"EMAIL":return(0,b.Z)((0,b.Z)({},e),{},{email:t.payload.style});case"MESSAGE":return(0,b.Z)((0,b.Z)({},e),{},{message:t.payload.style});default:return e}}function o(e){return{type:"NAME",payload:{style:e}}}function s(e){return{type:"EMAIL",payload:{style:e}}}function l(e){return{type:"MESSAGE",payload:{style:e}}}function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:S,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"ON_CHANGE_NAME":var a=t.payload.nameValue.replace(/[^a-zA-Z\u0430-\u044f\u0451\u0410-\u042f\u0401 -]/,"").slice(0,50).trimStart();return" "===a[a.length-1]&&" "===a[a.length-2]&&(a=a.slice(0,-1)),(0,b.Z)((0,b.Z)({},e),{},{name:a});case"ON_CHANGE_EMAIL":return a=t.payload.emailValue.replace(/[\u0430-\u044f\u0451\u0410-\u042f\u0401]/,"").slice(0,200).trimStart(),(0,b.Z)((0,b.Z)({},e),{},{email:a});case"ON_CHANGE_MESSAGE":return" "===(a=t.payload.messageValue.slice(0,3e3).trimStart())[a.length-1]&&" "===a[a.length-2]&&(a=a.slice(0,-1)),(0,b.Z)((0,b.Z)({},e),{},{message:a});default:return e}}function i(e){return{type:"ON_CHANGE_NAME",payload:{nameValue:e}}}function m(e){return{type:"ON_CHANGE_EMAIL",payload:{emailValue:e}}}function u(e){return{type:"ON_CHANGE_MESSAGE",payload:{messageValue:e}}}a.r(t),a.d(t,{default:function(){return M}});var _=a(165),d=a(861),h=a(885),f=a(791),p="Contact_contacts__block_input__wUheu",y="Contact_placeholder__1YAh1",x="Contact_bg_ForAutocompliteText__gvErp",C="Contact_fontSizeCyrillic__nzlaD",g="Contact_errorBorder__89MqI",N=a(164),v={modalContainer:"ContactModal_modalContainer__8oii2",animateModalBG:"ContactModal_animateModalBG__-mpEV",modalText:"ContactModal_modalText__KjfnI",animateModalText:"ContactModal_animateModalText__VbhKN",textSuccess:"ContactModal_textSuccess__hTrke",textError:"ContactModal_textError__skczY"},j=a(184),b=a(413),E={name:!1,email:!1,message:!1},S={name:"",email:"",message:""},A=/[\u0430-\u044f\u0451\u0410-\u042f\u0401]/,Z=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[ a-zA-Z0-9-]+(?:\.[ a-zA-Z0-9-]+) *$/,M=function(){function e(e){var t,a=e.currentTarget,n="Enter";e.key===n&&"name"===a.id&&a.value&&(e.preventDefault(),null!=(t=V.current))&&t.focus(),e.key===n&&"email"===a.id&&a.value&&a.value.match(Z)&&(e.preventDefault(),null!=(t=L.current))&&t.focus(),e.key!==n||"messageContact"!==a.id||e.shiftKey||(e.preventDefault(),v.name&&v.email&&v.message&&v.email.match(Z)&&(a.blur(),U()))}var t=(0,f.useReducer)(c,E),a=(t=(0,h.Z)(t,2))[0],N=t[1],v=(t=(0,f.useReducer)(r,S),(t=(0,h.Z)(t,2))[0]),b=t[1],M=(t=(0,f.useState)(!1),(t=(0,h.Z)(t,2))[0]),w=t[1],T=(t=(0,f.useState)("on"===localStorage.getItem("isOffAutocomplite")),(t=(0,h.Z)(t,2))[0]),k=t[1],G=(t=(0,f.useState)("Contact_animationIsLoading__XUbiA"),(t=(0,h.Z)(t,2))[0]),O=t[1],I=(t=(0,f.useState)(""),(t=(0,h.Z)(t,2))[0]),B=t[1],D=(t=(0,f.useState)("Successfully sent"),(t=(0,h.Z)(t,2))[0]),F=t[1],V=(0,f.useRef)(),L=(0,f.useRef)(),z=(t=v.name.match(A)?C:"",v.message.match(A)?C:""),H=a.name?g:"",q=a.email?g:"",K=a.message?g:"",R=T?"on":"off",P={name:v.name.trimEnd(),email:v.email.trimEnd(),message:v.message.trimEnd()},U=function(){var e=(0,d.Z)((0,_.Z)().mark((function e(){return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.105/api/contact",{method:"POST",body:JSON.stringify(P),headers:{Accept:"application/json","Content-type":"application/json; charset=UTF-8"}}).then((function(e){"Successfully sent"!==D&&F("Successfully sent"),document.body.style.overflow="hidden",w(!0),setTimeout((function(){w(!1),document.body.style.overflow="unset",b(i("")),b(m("")),b(u(""))}),2e3)})).catch((function(e){F("Some error occured"),document.body.style.overflow="hidden",w(!0),setTimeout((function(){w(!1),document.body.style.overflow="unset"}),2e3),console.log("Some error occured")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){v.name&&a.name&&N(o(!1)),v.email&&a.email&&v.email.match(Z)&&N(s(!1)),v.message&&a.message&&N(l(!1))}),[v]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("section",{className:"Contact_contacts__PEeUQ",children:[(0,j.jsx)(n,{isOpen:M,children:D}),(0,j.jsx)("div",{className:"Contact_contacts__container__QBNZN",children:(0,j.jsxs)("div",{className:"Contact_contacts__content__dris4",children:[(0,j.jsxs)("div",{className:"Contact_contacts__text_container__Z+23W",children:[(0,j.jsx)("h2",{className:"Contact_contacts__title__1sGYL",children:"contact"}),(0,j.jsx)("p",{className:"Contact_contacts__text__feHqS",children:"Contact me if you have a job or just say hi :)"})]}),(0,j.jsxs)("div",{className:"Contact_contacts__form_container__Q8STt",children:[(0,j.jsxs)("label",{className:"Contact_switcher_container__bDvn1",htmlFor:"checkbox",children:["autocomplete",(0,j.jsx)("input",{type:"checkbox",id:"checkbox",onChange:function(){k(!T),localStorage.setItem("isOffAutocomplite","".concat(T?"off":"on"))},checked:T}),(0,j.jsx)("span",{className:"Contact_switcher__25rLf"})]}),(0,j.jsxs)("form",{className:"Contact_contacts__form__Rcpxq",id:"contacts",onSubmit:function(e){e.preventDefault(),v.name&&v.email&&v.message&&v.email.match(Z)?U():B("Contact_errorButton__6YBOn")},noValidate:!0,children:[(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("label",{className:x}),(0,j.jsx)("input",{id:"name",type:"text",value:v.name,name:"name",className:"".concat("Contact_contacts__input_name__nPuwE"," ").concat(t," ").concat(H),onChange:function(e){b(i(e.currentTarget.value))},onKeyDown:e,autoComplete:R,required:!0}),(0,j.jsx)("label",{className:"Contact_contacts__label_name__rmc5-",children:"name"}),(0,j.jsx)("label",{className:y,htmlFor:"name",children:"name"})]}),(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("label",{className:x}),(0,j.jsx)("input",{ref:V,id:"email",type:"text",value:v.email,name:"email",className:"".concat("Contact_contacts__input_email__v+3ib"," ").concat(q),onChange:function(e){b(m(e.currentTarget.value))},onKeyDown:e,onBlur:function(){v.email&&!v.email.match(Z)&&N(s(!0))},autoComplete:R,required:!0}),(0,j.jsx)("label",{className:"Contact_contacts__label_email__6+iiP",children:"email"}),(0,j.jsx)("label",{className:y,htmlFor:"email",children:"email"})]}),(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("textarea",{ref:L,id:"messageContact",value:v.message,name:"message",className:"".concat("Contact_contacts__textarea__70Buj"," ").concat(z," ").concat(K),onChange:function(e){b(u(e.currentTarget.value))},onKeyDown:e,required:!0}),(0,j.jsx)("label",{className:"Contact_contacts__label_message__pjbjl",children:"message"}),(0,j.jsx)("label",{className:y,htmlFor:"message",children:"message"})]})]})]}),(0,j.jsx)("button",{type:"submit",form:"contacts",className:"".concat("Contact_contacts__form_button__h8TFj"," ").concat(I," ").concat(G),onClick:function(){v.name||a.name||N(o(!0)),v.email&&v.email.match(Z)||a.email||N(s(!0)),v.message||a.message||N(l(!0))},onAnimationEnd:function(){O("Contact_animationIsLoaded__xbvRN"),B("")},children:"send me message"})]})})]})})}}}]);